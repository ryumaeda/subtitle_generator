{
  "key": "sequenceDiagram",
  "value": [
    {
      "id": "アップロード",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    autonumber\\n    actor ユーザー\\n    participant フロントエンド\\n    participant バックエンド\\n    participant S3\\n    participant DB\\n\\n    ユーザー->>フロントエンド: 動画ファイルをドラッグ&ドロップ\\n    フロントエンド->>フロントエンド: ファイル形式チェック(mp4)\\n    フロントエンド->>バックエンド: アップロード要求\\n    バックエンド->>S3: 一時的なURLを生成\\n    S3-->>バックエンド: 一時的なURL\\n    バックエンド-->>フロントエンド: 一時的なURL\\n    フロントエンド->>S3: 動画ファイルを直接アップロード\\n    S3-->>フロントエンド: アップロード完了通知\\n    フロントエンド->>バックエンド: アップロード完了通知\\n    バックエンド->>DB: ファイル情報を保存\\n    DB-->>バックエンド: 保存完了\\n    バックエンド-->>フロントエンド: アップロード処理完了\\n    フロントエンド-->>ユーザー: アップロード完了メッセージ表示\"}"
    },
    {
      "id": "変換処理",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: S3バケットに動画ファイルをアップロード\\n    Frontend->>Backend: アップロード完了通知\\n    Backend->>Backend: 音声テキスト変換処理\\n    Backend->>DB: JSONファイル形式のテキストデータを保存\\n    DB-->>Backend: 保存完了\\n    Backend->>Backend: 字幕ファイル生成処理\\n    Backend->>DB: 字幕付きFCPXMLファイルを保存\\n    DB-->>Backend: 保存完了\\n    Backend-->>Frontend: 処理完了通知\\n    Frontend-->>User: 字幕生成完了を表示\"}"
    },
    {
      "id": "ダウンロード",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    autonumber\\n    actor ユーザー\\n    participant フロントエンド\\n    participant バックエンド\\n    participant DB\\n\\n    ユーザー->>フロントエンド: 1. 字幕付きFCPXMLファイルの\\nダウンロードをリクエスト\\n    フロントエンド->>バックエンド: 2. ダウンロード要求を送信\\n    バックエンド->>DB: 3. 字幕データを取得\\n    DB-->>バックエンド: 4. 字幕データを返送\\n    バックエンド->>バックエンド: 5. FCPXMLファイルを生成\\n    バックエンド-->>フロントエンド: 6. FCPXMLファイルを送信\\n    フロントエンド-->>ユーザー: 7. FCPXMLファイルを\\nダウンロード可能にする\\n    ユーザー->>フロントエンド: 8. ダウンロードを実行\\n    フロントエンド-->>ユーザー: 9. FCPXMLファイルを\\nダウンロード\"}"
    },
    {
      "id": "字幕カスタマイズ",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    actor ユーザー\\n    participant フロントエンド\\n    participant バックエンド\\n    participant DB\\n\\n    ユーザー->>フロントエンド: 字幕デザイン設定を開く\\n    フロントエンド->>バックエンド: 現在の設定を取得\\n    バックエンド->>DB: 設定データを要求\\n    DB-->>バックエンド: 設定データを返す\\n    バックエンド-->>フロントエンド: 設定データを送信\\n    フロントエンド-->>ユーザー: 設定画面を表示\\n\\n    ユーザー->>フロントエンド: フォントを選択\\n    ユーザー->>フロントエンド: 色を選択\\n    ユーザー->>フロントエンド: サイズを調整\\n    ユーザー->>フロントエンド: 設定を保存\\n\\n    フロントエンド->>バックエンド: 新しい設定を送信\\n    バックエンド->>DB: 設定を更新\\n    DB-->>バックエンド: 更新完了\\n    バックエンド-->>フロントエンド: 保存完了を通知\\n    フロントエンド-->>ユーザー: 保存完了メッセージを表示\\n\\n    ユーザー->>フロントエンド: プレビューを要求\\n    フロントエンド->>バックエンド: プレビュー生成を要求\\n    バックエンド-->>フロントエンド: プレビューデータを送信\\n    フロントエンド-->>ユーザー: プレビューを表示\"}"
    },
    {
      "id": "学習",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    actor ユーザー\\n    participant フロントエンド\\n    participant バックエンド\\n    participant DB\\n\\n    ユーザー->>フロントエンド: FCPXMLファイルをアップロード\\n    フロントエンド->>バックエンド: FCPXMLファイルを送信\\n    バックエンド->>バックエンド: FCPXMLファイルを解析\\n    バックエンド->>DB: 学習データを追加\\n    DB-->>バックエンド: 追加完了\\n    バックエンド-->>フロントエンド: 処理完了を通知\\n    フロントエンド-->>ユーザー: 学習データ追加完了を表示\"}"
    },
    {
      "id": "フィルタリング",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    autonumber\\n    User->>Frontend: フィルタリング文字列を入力\\n    Frontend->>Backend: フィルタリング要求を送信\\n    Backend->>DB: フィルタリング設定を保存\\n    DB-->>Backend: 保存完了\\n    Backend-->>Frontend: フィルタリング設定更新完了\\n    Frontend-->>User: フィルタリング設定更新完了を表示\\n    User->>Frontend: 追加ボタンをクリック\\n    Frontend->>Frontend: 新しい文字列入力フォームを追加\\n    Frontend-->>User: 更新されたフォームを表示\\n    User->>Frontend: フィルタリングを実行\\n    Frontend->>Backend: フィルタリング処理要求\\n    Backend->>DB: フィルタリング設定を取得\\n    DB-->>Backend: フィルタリング設定\\n    Backend->>Backend: 字幕データをフィルタリング\\n    Backend-->>Frontend: フィルタリング結果を送信\\n    Frontend-->>User: フィルタリングされた字幕を表示\"}"
    },
    {
      "id": "要約",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    autonumber\\n    actor ユーザー\\n    participant フロントエンド\\n    participant バックエンド\\n    participant DB\\n\\n    ユーザー->>フロントエンド: テキストデータと学習データをアップロード\\n    フロントエンド->>バックエンド: データを送信\\n    バックエンド->>DB: 学習データを保存\\n    DB-->>バックエンド: 保存完了\\n    バックエンド->>バックエンド: 要点抽出処理\\n    バックエンド-->>フロントエンド: 要点抽出結果を返送\\n    フロントエンド-->>ユーザー: 要点を抑えた字幕を表示\\n    ユーザー->>フロントエンド: 字幕の編集・調整\\n    フロントエンド->>バックエンド: 編集内容を送信\\n    バックエンド->>DB: 編集内容を保存\\n    DB-->>バックエンド: 保存完了\\n    バックエンド-->>フロントエンド: 保存完了通知\\n    フロントエンド-->>ユーザー: 編集完了を表示\"}"
    },
    {
      "id": "話者識別",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    autonumber\\n    actor User\\n    participant Frontend\\n    participant Backend\\n    participant DB\\n\\n    User->>Frontend: 字幕生成ページにアクセス\\n    Frontend->>Backend: 字幕生成ページのデータ要求\\n    Backend->>DB: ユーザー設定の取得\\n    DB-->>Backend: ユーザー設定データ\\n    Backend-->>Frontend: 字幕生成ページデータ\\n    Frontend-->>User: 字幕生成ページを表示\\n\\n    User->>Frontend: 動画ファイルをアップロード\\n    Frontend->>Backend: 動画ファイルを送信\\n    Backend->>Backend: 音声抽出処理\\n    Backend->>Backend: 音声認識処理\\n    Backend->>Backend: テキスト生成\\n    Backend->>DB: 認識結果を保存\\n    DB-->>Backend: 保存完了\\n    Backend-->>Frontend: テキストデータ\\n    Frontend-->>User: 認識結果を表示\\n\\n    User->>Frontend: 話者識別を実行\\n    Frontend->>Backend: 話者識別リクエスト\\n    Backend->>Backend: 話者識別処理\\n    Backend->>DB: 識別結果を保存\\n    DB-->>Backend: 保存完了\\n    Backend-->>Frontend: 話者識別データ\\n    Frontend-->>User: 話者別に色分けされた字幕を表示\\n\\n    User->>Frontend: 字幕スタイルをカスタマイズ\\n    Frontend->>Backend: カスタマイズ設定を送信\\n    Backend->>DB: カスタマイズ設定を保存\\n    DB-->>Backend: 保存完了\\n    Backend-->>Frontend: 更新完了通知\\n    Frontend-->>User: カスタマイズ適用済み字幕を表示\\n\\n    User->>Frontend: 字幕出力を要求\\n    Frontend->>Backend: 字幕出力リクエスト\\n    Backend->>Backend: 字幕ファイル生成処理\\n    Backend-->>Frontend: 生成された字幕ファイル\\n    Frontend-->>User: 字幕ファイルをダウンロード\"}"
    },
    {
      "id": "出力",
      "value": "{\"mermaid\":\"sequenceDiagram\\n    User->>Frontend: 字幕生成リクエスト\\n    Frontend->>Backend: 動画ファイル送信\\n    Backend->>DB: 動画メタデータ保存\\n    Backend->>Backend: 音声テキスト変換\\n    Backend->>Backend: 要点抽出\\n    Backend->>Backend: 話者識別\\n    Backend->>Backend: 字幕生成\\n    Backend->>Frontend: 字幕データ送信\\n    Frontend->>User: 字幕プレビュー表示\\n    User->>Frontend: 字幕編集\\n    Frontend->>Backend: 編集内容送信\\n    Backend->>DB: 編集内容保存\\n    User->>Frontend: プロジェクトファイル出力リクエスト\\n    Frontend->>Backend: 出力リクエスト送信\\n    Backend->>Backend: プロジェクトファイル生成\\n    Backend->>Frontend: プロジェクトファイル送信\\n    Frontend->>User: プロジェクトファイルダウンロード\"}"
    }
  ]
}
